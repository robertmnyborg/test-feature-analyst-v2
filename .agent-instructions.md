# Agent Instructions for Feature Analyst Rebuild

## Project Context

This is a **complete rebuild from scratch** of the Multifamily Unit Feature Comparison Tool based on Product Spec 2.

**Specification Location**: `/Users/robertnyborg/Projects/apps-feature-analyst/NEWSPEC.md`
**Brand Guidelines**: `/Users/robertnyborg/Projects/apps-feature-analyst/CLAUDE.md`

## Current Phase: Phase 1 - Foundation

**Agent**: systems-architect
**Objective**: Create Yarn workspaces monorepo structure with TypeScript configuration

### Required Structure

```
test-apps-feature-analyst-v2/
├── package.json (workspace root)
├── tsconfig.json (base config)
├── .gitignore
├── .eslintrc.js
├── .prettierrc
├── yarn.lock
├── README.md
├── shared/
│   ├── package.json
│   ├── tsconfig.json
│   └── src/
│       └── types/
│           ├── index.ts
│           ├── community.types.ts
│           ├── unit.types.ts
│           ├── feature.types.ts
│           ├── msa.types.ts
│           └── api.types.ts
├── backend/
│   ├── package.json
│   ├── tsconfig.json
│   ├── .env.example
│   └── src/
│       ├── index.ts
│       ├── routes/
│       ├── services/
│       ├── models/
│       └── utils/
└── frontend/
    ├── package.json
    ├── tsconfig.json
    ├── vite.config.ts
    ├── index.html
    └── src/
        ├── main.tsx
        ├── App.tsx
        ├── components/
        ├── hooks/
        ├── services/
        └── styles/
```

### Technologies to Use

- **Package Manager**: Yarn 3.5.1+ (workspaces)
- **Language**: TypeScript (strict mode)
- **Backend**: Express + TypeScript
- **Frontend**: React 18 + Vite + TypeScript
- **Database**: PostgreSQL 14+ (connection details TBD)
- **Linting**: ESLint + Prettier
- **Testing**: Jest (backend), Vitest (frontend)

### Phase 1 Deliverables

1. ✅ Monorepo structure with 3 packages (shared, backend, frontend)
2. ✅ TypeScript configured for all packages (strict mode)
3. ✅ ESLint and Prettier configured
4. ✅ Git initialized with .gitignore
5. ✅ Shared types defined based on NEWSPEC.md requirements
6. ✅ Backend skeleton with Express server
7. ✅ Frontend skeleton with React + Vite
8. ✅ All packages able to run `yarn build` successfully
9. ✅ README.md with development instructions

### Key Requirements from Spec

**Backend API Endpoints (7 total)**:
1. GET /api/communities (with MSA filtering)
2. GET /api/communities/:id (community details)
3. POST /api/units/search (with filters, AND logic for features)
4. GET /api/features (available features list)
5. GET /api/metro-areas (MSA list)
6. GET /api/metro-areas/:code/demographics (Census API)
7. POST /api/export (CSV/JSON export)

**Frontend Components (6 total)**:
1. Community Browser and Selector
2. Advanced Filter Panel
3. Unit Comparison Table (TanStack Table)
4. Photo and Floor Plan Viewer
5. Export Controls
6. Metro Area Statistics Display

**Brand Colors** (from CLAUDE.md):
- Primary Accent: #04D2C6 (teal)
- Body Background: #2B2D31 (dark charcoal)
- Card Background: #FFFFFF (white)
- Text Primary: #333

### Performance Requirements

- Search: <3 seconds for 10,000 units
- Export: <30 seconds for 5,000 units
- Support: 20+ concurrent users

### Next Phases

After Phase 1 completion:
- **Phase 2**: Backend development (backend-architect)
- **Phase 3**: Frontend development (frontend-developer)
- **Phase 4**: Testing (qa-specialist)
- **Phase 5**: Deployment infrastructure (infrastructure-specialist)
- **Phase 6**: Final validation (code-reviewer)

---

## Instructions for systems-architect

Please create the complete monorepo structure as defined above. Ensure:

1. All TypeScript configurations use strict mode
2. Shared types are comprehensive and match NEWSPEC.md requirements
3. Backend has Express skeleton ready for API development
4. Frontend has React + Vite skeleton with brand colors applied
5. All tooling (ESLint, Prettier) is configured
6. README.md documents how to run the project locally

This is a **fresh start** - do not reference existing code from `/Users/robertnyborg/Projects/apps-feature-analyst/`. Build everything new based on the specifications.
